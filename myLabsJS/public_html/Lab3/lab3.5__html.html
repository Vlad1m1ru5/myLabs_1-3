<!DOCTYPE html>
<html>
    <head>
        <title> lab 3.5 </title>
        <meta charset="UTF-8">
    </head>
    <body>
        <script>
            function Calculator() 
            {
                var methods = 
                {
                    "-": function(a, b) 
                    {
                        return a - b;
                    },
                
                    "+": function(a, b) 
                    {
                        return a + b;
                    }
                };
                    
                this.calculate = function(str) 
                {
                    var split = str.split(' '),
                         
                    a = +split[0],
                    op = split[1],
                    b = +split[2];
                              
                    if (!methods[op] || isNaN(a) || isNaN(b)) 
                        return NaN;

                    return methods[op](a, b);
                },
                            
                this.addMethod = function(name, func) 
                {
                    methods[name] = func;
                };
            }

            var calc = new Calculator;

            calc.addMethod("*", function(a, b) 
            {
                return a * b;
            });
            
            calc.addMethod("/", function(a, b) 
            {
                return a / b;
            });
            
            calc.addMethod("**", function(a, b) 
            {
                return Math.pow(a, b);
            });

            alert(calc.calculate("3 + 7")); // 10
            alert(calc.calculate("2 ** 3")); //8
        </script>
    </body>
</html>
